# LR Parser

LR 파싱은 Left-to-right 스캔 및 Rightmost 유도를 사용합니다.
이 기법은 결정적 문맥 자유 언어를 효율적으로 처리하며, shift-reduce 및 reduce-reduce 충돌과 같은 일반적인 파싱 충돌을 피할 수 있습니다.

<br/>
<br/>

## LR 파서의 구조

### 액션

- **Shift**: 입력 토큰을 스택에 넣음.
- **Reduce**: 스택 상단의 RHS를 LHS로 바꿈.

### LR 파싱 테이블

- **스택**: 초기값은 초기 상태 번호.
- **Shift**: `<input token, next state_number>`를 푸시.
- **Reduce**: `<RHS, state_number>` 쌍을 팝하고, `<LHS, next state_number>`를 푸시.

## LR 파싱 테이블 구성

### LR(0) 항목 집합을 사용한 오토마타 구성

1. **LR(0) 아이템**: 각 생성규칙의 RHS 부분에 점을 표시.
   - **클로저 아이템**: 점 위치가 RHS의 맨 앞에 있는 경우.
   - **커널 아이템**: 점 위치가 RHS의 중간에 있는 경우.
   - **리듀스 아이템**: 점 위치가 RHS의 맨 끝에 있는 경우.
2. **클로저 집합**: 마크 심볼이 비터미널인 경우 해당 생성 규칙으로 reduce될 수 있도록 클로저 집합을 구성.

### SLR 파싱 테이블

- **SLR 파싱 테이블 구성**: 가장 간단한 방법으로, LR(0) 아이템 집합과 마크 심볼들에 대한 다음 상태들로 구성된 오토마타로부터 구성.

### CLR 파싱 테이블

- **LR(1) 아이템**: LR(0) 아이템의 리듀스 아이템에 대해 FOLLOW 집합을 사용하여 구성.

### LALR 파싱 테이블

- **LALR 파싱 테이블**: SLR과 CLR의 혼합 방식으로, 파싱 테이블 크기는 SLR과 같고 lookahead는 CLR 방식에 따라 계산.

## LR 파싱 예제

### 예제 문법

1. E → E + F
2. E → F
3. F → a

### 파싱 단계

1. 초기 상태를 S0으로 설정.
2. 현재 상태와 입력 토큰에 따라 shift 또는 reduce를 수행.
3. 스택의 상단 상태에 따라 다음 상태를 GOTO 테이블에서 가져옴.
4. 파싱이 완료될 때까지 반복.

### 파싱 테이블 구성 예

- 각 상태와 심볼에 대해 ACTION 및 GOTO 테이블을 구성.
- 파싱 예제의 단계별 수행을 통해 최종적으로 입력이 올바른지 판단.

## 정리

- **LR 파싱**: 효율적이고 결정적인 파싱 기법으로, 복잡한 문법도 처리 가능.
- **SLR, CLR, LALR**: 다양한 방법으로 LR 파싱 테이블을 구성하여 각기 다른 특성과 장점을 가짐.

이와 같이 LR 파싱은 컴파일러의 중요한 구성 요소로서, 다양한 문법을 정확하게 분석하고 처리하는 데 사용됩니다.