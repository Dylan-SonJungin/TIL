### MySQL

![MySQL 스토리지 엔진 종류 및 특징](https://nomadlee.com/wp-content/uploads/2021/01/mysql_logical_arch1.png)



#### InnoDB

`트랜잭션을 처리하기 위해 고안됐는데 대부분의 경우 롤백되지 않고 완료되는(즉 정상 종료되는) 짧은 트랜잭션이 많은 경우를 처리하기 좋다.`

- **ACID 트랜잭션을 지원**하며, 뛰어난 성능과 장애 복구 기능 가짐

- 결제 정보와 같이 정보의 **무결성**을 가져야하고 손실되면 안되는 중요한 데이터를 필요로 할 때 사용

- MVCC(Multi Version Concurrency Control) 기술을 이용해 **락을 걸지 않고 읽기 작업을 수행**
  - 락을 걸지 않기 때문에 읽기 작업은 다른 트랜잭션이 가지고 있는 락을 기다리지 않아도 됨
- **외래키 지원**
- 그래프 기반의 데드락 체크 방식을 사용하기 때문에 **데드락이 발생함과 동시에 바로 감지**
  - 감지된 데드락은 관련 트랜잭션 중에서 ROLLBACK이 가장 용이한 트랜잭션을 자동적으로 강제 종료
- 인덱스 = **B+ 트리 구조 ** (쬐꼼 더 복잡)
  - 같은 레벨의 노드들끼리는 Linked List가 아닌 Double Linked List를 사용, 자식 노드로는 Single Linked List로 연결




#### MYISAM

`Transaction을 지원하지 않기 때문에 InnoDB보다 심플하고 빠르지만 동시성 제어가 어렵워 Read 쿼리가 많은 Data Warehouse 환경에서 많이 사용`

- 행 단위가 아니라 **테이블 전체를 Lock**
  - 읽기 연산: 읽어야 할 모든 테이블에 대한 공유된 읽기 권한 
  - 쓰기 연산: 배타적  잠금 권한
- select쿼리 실행 중 테이블에 새 행을 삽입 가능 = **동시 삽입**
-  버퍼를 정리하거나 테이블을 닫을 때 인텍스 블록을 디스크로 플러시(flush)
  - 이용 빈도수가 높고 데이터 변경이 잦은 테이블의 성능을 높여줌



#### MEMORY

`메모리에 데이터를 저장하는 엔진이며 Transaction을 지원하지 않고 table-level locking을 사용`

- 중요하지 않지만 빠른 처리가 필요한 임시 테이블로 많이 사용하는 편
- HEAP 테이블 (메모리 테이블)은 불변하는 데이터나 재시작 이후 지속되지 않는 데이터에 빠르게 접근하는 데 유용
- 테이블의 테이블 구조는 서버가 재시작해도 지속되지만 데이터는 지속되지 않음