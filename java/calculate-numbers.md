## ✏️자바에서 숫자와 연산

> 자바에서 정확한 숫자 연산을 위해 신경써야 할 사항들..
> 특히 ***돈 계산*** 할떄! 😋

<br/>

### 참고: 실수의 종류

|  이름  | 크기(byte) | 용도      | 범위                        |
| :----: | :--------: | :-------- | :-------------------------- |
| float  |     4      | 작은 실수 | −3.4×10^38^ ~ +3.4×10^38^   |
| double |     8      | 일반 실수 | −1.7×10^308^ ~ +1.7×10^308^ |

<br/>

<br/>

## 1️⃣  부동 소수점(Floating Point) 과 고정 소수점(Fixed Point)

**부동 소수점 ( Floating Point )**   `실수를 곱셈 형태로 변환하여 (근사하여) 저장하는 방식`

➡️ 컴퓨터는 이진수(0과 1로 이루어진 숫자)를 사용하여 숫자를 저장하고 계산.
     이진수로는 정수만을 정확하게 표현, 실수는 ***근사적***으로 표현
➡️ 부동 소수점에서는 실수를 ***두 부분***으로 나누어 저장.
➡️ 같은 공간에서 더 넓은 범위를 저장할 수 있는 반면 정확도가 떨어진다

1. **가수 (Significand / Mantissa)**: 이진수로 표현된 실수의 유효 숫자 부분 
   이 부분은 소수점의 위치를 조절하여 숫자의 정밀도를 나타냄
2. **지수 (Exponent)**: 이진수로 표현된 실수의 자리수를 나타내는 부분 
   지수는 실제 숫자의 크기를 지수로 표현

<br/>

<img src="https://wikidocs.net/images/page/189025/float%EC%99%80_double.jpg" alt="종류에 따른 크기" style="zoom:30%;" />
출처: https://wikidocs.net/189025

<br/>

```java
// 변수 선언
float a = 3.14f;
double b = 3.14d;
double b = 3.14;  //문자 붙이지 않은 경우 double 로 간주

float a = 3.14; //error - double은 float보다 커서 대입 불가!
```

<br/>

```java
// 문제 발생
double result = 0.1 + 0.2;
System.out.println("부동 소수점 결과: " + result); // 출력: 0.30000000000000004
```

</br>

<div align="center">

***0.00000000000000004 는 대체 어디서..? 🤔***

</div>

컴퓨터는 이진수로 숫자를 표현하고 부동 소수점을 사용하여 실수를 나타낸다.
하지만 0.1과 0.2는 이진수로 정확하게 표현할 수 없는 무한소수!!

</br>

0.1을 표현하면 0.0001100110011001100110011001100110011001100110011..
0.2를 표현하면 0.001100110011001100110011001100110011001100110011..

</br>

➡️ 이진수 표현의 한계로 인해 0.3과 완벽하게 일치하는 값이 아닌 근사치인 0.30000000000000004가 나오게 됨
➡️ 따라서 컴퓨터는 이 둘을 더할 때 완벽한 정확성을 보장할 수 없음🥷

</br>

이러한 이유로 부동 소수점 연산에서는 오류가 발생할 수 있으며, 
정확한 숫자 연산이 필요한 경우에는 다른 방법을 사용하는 것이 권장.